import{r as k,j as y,e as v,o as t,c as l,a,g as x,m as g,w as b,N as S,h as r,T as w,l as p,n as N,b as o,t as s,u as B,p as C,q as L,F as V,s as z,O as D}from"./framework.e2d34bbf.js";import{u as F}from"./useClicks.b220bf08.js";const T={class:"flex flex-col gap-4 bg-light-300 dark-bg-dark-300 rounded-lg shadow-xl overflow-hidden mx-auto"},$=["title","src"],j={class:"flex flex-col p-4 gap-1 bottom-0 bg-light-100 dark-bg-dark-200 w-full max-w-180 mx-auto mb-12 relative"},q={class:"px-2 py-1 bg-light-800 dark-bg-dark-800 rounded-xl transition text-sm select-none absolute top-2 right-2 text-center z-200 flex items-center gap-1"},A=a("div",{class:"i-la-hand-pointer"},null,-1),E={class:"text-xl font-bold flex items-center gap-4"},I=["href"],M={key:0,class:"flex-1 flex items-end flex flex-wrap gap-2"},O={key:1,class:"p-0"},P={class:"mt-4"},K={__name:"SynthPage",props:{title:{type:String,default:""},description:{type:String,default:""},author:{type:String,default:""},author_link:{type:String,default:""},cover:{type:String,default:""},slug:{type:String,default:""},url:{type:String,default:""},tags:{type:Array,default:[]},archive:{type:Boolean,default:!1},archive_link:{type:String,default:""},iframe:{type:Boolean,default:!1},clicks:{type:Number,default:0},id:{type:Number,default:0}},setup(e){const d=e,n=k(!1);function h(i){i.timeStamp<5e3&&(n.value=!0)}const{clickSynth:m,clicksCount:c}=F(d.id);return y(()=>d.clicks,i=>c.value=i,{immediate:!0}),v(async()=>{await m()}),(i,G)=>{var u;return t(),l("div",T,[a("div",{class:p(["p-0 h-70svh bg-cover bg-center",{"animate-pulse":e.iframe&&!n.value}]),style:N({backgroundImage:`url(/cover/${e.slug}.webp)`})},[x(w,{name:"fade"},{default:g(()=>[e.iframe?b((t(),l("iframe",{key:0,class:"w-full h-70svh bg-light-100 dark-bg-dark-800",allow:"midi *",onLoad:h,title:e.title,src:e.archive?e.archive_link:e.url},null,40,$)),[[S,n.value]]):r("",!0)]),_:1})],6),a("div",j,[a("div",q,[o(s(B(c)),1),A]),a("div",E,[o(s(e.title)+" ",1),e.author?(t(),C(L(e.author_link?"a":"div"),{key:0,class:"text-lg font-300",target:"_blank",href:e.author_link},{default:g(()=>[o("by "+s(e.author),1)]),_:1},8,["href"])):r("",!0)]),a("a",{class:"my-2 font-mono text-sm",href:e.url,target:"_blank"},s(e.url),9,I),((u=e.tags)==null?void 0:u.length)>0?(t(),l("div",M,[(t(!0),l(V,null,z(e.tags,f=>(t(),l("div",{class:"px-2 py-1 text-sm bg-light-800 dark-bg-dark-500 rounded-lg",key:f},s(f),1))),128))])):r("",!0),e.description?(t(),l("div",O,s(e.description),1)):r("",!0),a("div",P,[D(i.$slots,"default")])])])}}};export{K as _};
