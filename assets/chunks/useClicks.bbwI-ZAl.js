import{E as m,G as p,r as h,o as i,c as l,t as v,j as b,f as g,N as w}from"./framework.-bv3xlTi.js";import{w as k,x as S,S as x}from"./chunk-GJVD322O.gdg4GL9s.js";const n=m("favourites",{3:"default",29:"default",39:"default"}),C={key:0,class:"i-la-star"},_={key:1,class:"i-la-star-solid text-yellow"},j={key:2,class:"text-xs opacity-50 absolute -bottom-3"},P={__name:"SynthFav",props:{id:{type:Number,default:0},stars:{type:Number,default:0}},setup(o){const e=o,a=p(()=>n.value[e.id]),r=h(e.stars);async function t(){if((n.value[e.id]===void 0||n.value[e.id]===null)&&y(e.id),n.value[e.id]==="default"){n.value[e.id]=null;return}n.value[e.id]=!n.value[e.id]}async function y(d){var c,u,f;try{const s=await fetch("https://dbs.chromatone.center/flows/trigger/f235dc43-5911-4a7a-8327-5a5c39beb3b2",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({id:d})});r.value=await(s==null?void 0:s.json())}catch(s){console.error(s,(u=(c=s==null?void 0:s.errors)==null?void 0:c[0])==null?void 0:u.message,(f=s==null?void 0:s.response)==null?void 0:f.status)}}return(d,c)=>(i(),l("button",{class:"p-0 cursor-pointer flex items-center gap-1 justify-center",onClick:c[0]||(c[0]=g(u=>t(),["stop","prevent"])),title:"Toggle star"},[a.value?(i(),l("div",_)):(i(),l("div",C)),r.value||o.stars?(i(),l("div",j,v(r.value||o.stars),1)):b("",!0)]))}},N=k("https://dbs.chromatone.center/").with(S());async function B(o,e){try{return await N.request(x(o,e))}catch(a){console.log(a)}}async function T(o){var e,a,r;try{console.log(o);const t=await fetch("https://dbs.chromatone.center/flows/trigger/96844b2f-abd0-41ed-bfe1-c5bcf788a98d",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({id:o})});return await(t==null?void 0:t.json())}catch(t){console.error(t,(a=(e=t==null?void 0:t.errors)==null?void 0:e[0])==null?void 0:a.message,(r=t==null?void 0:t.response)==null?void 0:r.status)}}function E(o,e=0){const a=h(e),r=w(T,1e4);async function t(){a.value=await r(o)}return{clicksCount:a,clickSynth:t}}export{P as _,B as a,n as f,E as u};
