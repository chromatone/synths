import{t as g,a as ee,i as te,n as D,b as ie,p as le,c as ce,d as ue,e as Z}from"./index.97103914.js";import{G as fe,r as S,H as de,A as B,j as F,I as z,J as he,e as ne}from"./framework.e2d34bbf.js";function I(e){var r;const t=g(e);return(r=t==null?void 0:t.$el)!=null?r:t}const j=te?window:void 0,ve=te?window.navigator:void 0;function J(...e){let r,t,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,s,n]=e,r=j):[r,t,s,n]=e,!r)return D;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const u=[],i=()=>{u.forEach(a=>a()),u.length=0},f=(a,o,m,y)=>(a.addEventListener(o,m,y),()=>a.removeEventListener(o,m,y)),p=F(()=>[I(r),g(n)],([a,o])=>{if(i(),!a)return;const m=ie(o)?{...o}:o;u.push(...t.flatMap(y=>s.map(h=>f(a,y,h,m))))},{immediate:!0,flush:"post"}),w=()=>{p(),i()};return Z(w),w}function me(){const e=S(!1);return he()&&ne(()=>{e.value=!0}),e}function re(e){const r=me();return z(()=>(r.value,!!e()))}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x="__vueuse_ssr_handlers__",ye=pe();function pe(){return x in C||(C[x]=C[x]||{}),C[x]}function ge(e,r){return ye[e]||r}function we(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const be={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},X="vueuse-storage";function k(e,r,t,s={}){var n;const{flush:u="pre",deep:i=!0,listenToStorageChanges:f=!0,writeDefaults:p=!0,mergeDefaults:w=!1,shallow:a,window:o=j,eventFilter:m,onError:y=c=>{console.error(c)}}=s,h=(a?fe:S)(r);if(!t)try{t=ge("getDefaultStorage",()=>{var c;return(c=j)==null?void 0:c.localStorage})()}catch(c){y(c)}if(!t)return h;const b=g(r),O=we(b),l=(n=s.serializer)!=null?n:be[O],{pause:d,resume:v}=ee(h,()=>E(h.value),{flush:u,deep:i,eventFilter:m});return o&&f&&(J(o,"storage",P),J(o,X,N)),P(),h;function E(c){try{if(c==null)t.removeItem(e);else{const A=l.write(c),V=t.getItem(e);V!==A&&(t.setItem(e,A),o&&o.dispatchEvent(new CustomEvent(X,{detail:{key:e,oldValue:V,newValue:A,storageArea:t}})))}}catch(A){y(A)}}function R(c){const A=c?c.newValue:t.getItem(e);if(A==null)return p&&b!==null&&t.setItem(e,l.write(b)),b;if(!c&&w){const V=l.read(A);return typeof w=="function"?w(V,b):O==="object"&&!Array.isArray(V)?{...b,...V}:V}else return typeof A!="string"?A:l.read(A)}function N(c){P(c.detail)}function P(c){if(!(c&&c.storageArea!==t)){if(c&&c.key==null){h.value=b;return}if(!(c&&c.key!==e)){d();try{(c==null?void 0:c.newValue)!==l.write(h.value)&&(h.value=R(c))}catch(A){y(A)}finally{c?de(v):v()}}}}}function Se(e,r,t={}){const{root:s,rootMargin:n="0px",threshold:u=.1,window:i=j,immediate:f=!0}=t,p=re(()=>i&&"IntersectionObserver"in i),w=z(()=>{const h=g(e);return(Array.isArray(h)?h:[h]).map(I).filter(ce)});let a=D;const o=S(f),m=p.value?F(()=>[w.value,I(s),o.value],([h,b])=>{if(a(),!o.value||!h.length)return;const O=new IntersectionObserver(r,{root:I(b),rootMargin:n,threshold:u});h.forEach(l=>l&&O.observe(l)),a=()=>{O.disconnect(),a=D}},{immediate:f,flush:"post"}):D,y=()=>{a(),m(),o.value=!1};return Z(y),{isSupported:p,isActive:o,pause(){a(),o.value=!1},resume(){o.value=!0},stop:y}}function Ie(e,r={}){const{window:t=j,scrollTarget:s}=r,n=S(!1);return Se(e,([{isIntersecting:u}])=>{n.value=u},{root:s,window:t,threshold:0}),n}function Je(e,r,t={}){const{window:s=j}=t;return k(e,r,s==null?void 0:s.localStorage,t)}function Le(e={},r={}){const{navigator:t=ve}=r,s=t,n=re(()=>s&&"canShare"in s);return{isSupported:n,share:async(i={})=>{if(n.value){const f={...g(e),...g(i)};let p=!0;if(f.files&&s.canShare&&(p=s.canShare({files:f.files})),p)return s.share(f)}}}}function Ae([e,r,t,s]){const n=(a,o)=>1-3*o+3*a,u=(a,o)=>3*o-6*a,i=a=>3*a,f=(a,o,m)=>((n(o,m)*a+u(o,m))*a+i(o))*a,p=(a,o,m)=>3*n(o,m)*a*a+2*u(o,m)*a+i(o),w=a=>{let o=a;for(let m=0;m<4;++m){const y=p(o,e,t);if(y===0)return o;const h=f(o,e,t)-a;o-=h/y}return o};return a=>e===r&&t===s?a:f(w(a),r,s)}function q(e,r,t){return e+t*(r-e)}function W(e){return(typeof e=="number"?[e]:e)||[]}function Ee(e,r,t,s={}){var n,u;const i=g(r),f=g(t),p=W(i),w=W(f),a=(n=g(s.duration))!=null?n:1e3,o=Date.now(),m=Date.now()+a,y=typeof s.transition=="function"?s.transition:(u=g(s.transition))!=null?u:ue,h=typeof y=="function"?y:Ae(y);return new Promise(b=>{e.value=i;const O=()=>{var l;if((l=s.abort)!=null&&l.call(s)){b();return}const d=Date.now(),v=h((d-o)/a),E=W(e.value).map((R,N)=>q(p[N],w[N],v));Array.isArray(e.value)?e.value=E.map((R,N)=>{var P,c;return q((P=p[N])!=null?P:0,(c=w[N])!=null?c:0,v)}):typeof e.value=="number"&&(e.value=E[0]),d<m?requestAnimationFrame(O):(e.value=f,b())};O()})}function Me(e,r={}){let t=0;const s=()=>{const u=g(e);return typeof u=="number"?u:u.map(g)},n=S(s());return F(s,async u=>{var i,f;if(g(r.disabled))return;const p=++t;if(r.delay&&await le(g(r.delay)),p!==t)return;const w=Array.isArray(u)?u.map(g):g(u);(i=r.onStarted)==null||i.call(r),await Ee(n,n.value,w,{...r,abort:()=>{var a;return p!==t||((a=r.abort)==null?void 0:a.call(r))}}),(f=r.onFinished)==null||f.call(r)},{deep:!0}),F(()=>g(r.disabled),u=>{u&&(t++,n.value=s())}),Z(()=>{t++}),z(()=>g(r.disabled)?s():n.value)}function Oe(e="history",r={}){const{initialValue:t={},removeNullishValues:s=!0,removeFalsyValues:n=!1,write:u=!0,window:i=j}=r;if(!i)return B(t);const f=B({});function p(){if(e==="history")return i.location.search||"";if(e==="hash"){const l=i.location.hash||"",d=l.indexOf("?");return d>0?l.slice(d):""}else return(i.location.hash||"").replace(/^#/,"")}function w(l){const d=l.toString();if(e==="history")return`${d?`?${d}`:""}${i.location.hash||""}`;if(e==="hash-params")return`${i.location.search||""}${d?`#${d}`:""}`;const v=i.location.hash||"#",E=v.indexOf("?");return E>0?`${v.slice(0,E)}${d?`?${d}`:""}`:`${v}${d?`?${d}`:""}`}function a(){return new URLSearchParams(p())}function o(l){const d=new Set(Object.keys(f));for(const v of l.keys()){const E=l.getAll(v);f[v]=E.length>1?E:l.get(v)||"",d.delete(v)}Array.from(d).forEach(v=>delete f[v])}const{pause:m,resume:y}=ee(f,()=>{const l=new URLSearchParams("");Object.keys(f).forEach(d=>{const v=f[d];Array.isArray(v)?v.forEach(E=>l.append(d,E)):s&&v==null||n&&!v?l.delete(d):l.set(d,v)}),h(l)},{deep:!0});function h(l,d){m(),d&&o(l),i.history.replaceState(i.history.state,i.document.title,i.location.pathname+w(l)),y()}function b(){u&&h(a(),!0)}J(i,"popstate",b,!1),e!=="history"&&J(i,"hashchange",b,!1);const O=a();return O.keys().next().value?o(O):Object.assign(f,t),f}const U=Oe("history"),ae=/^([a-zA-Z0-9._%+-]{1,64})@[a-zA-Z0-9.-]{1,255}\.[a-zA-Z]{2,10}$/,se=100,$=S(!1),Q=S(!1),_e=S(!1),_=k("storedEmail",""),M=k("storedName",""),L=S(!1),T=S(_),G=S(M),H=z(()=>{var e;return je((e=T.value.match(ae))==null?void 0:e[1])}),Ne=S(""),Ve=S(""),Te=z(()=>oe(T.value)),Y=S(!1),K=S(!1);function oe(e){return ae.test(e)}function je(e=""){return e.charAt(0).toUpperCase()+e.slice(1)}function Pe(){_.value="",M.value="",L.value=!1,$.value=!1}function Re(){return Y.value||(F($,e=>{e&&(Q.value=!1)}),ne(()=>{_.value&&($.value=!0),U.token&&$e()}),Y.value=!0),{searchParams:U,isAccessGranted:$,isValidEmail:Te,email:T,name:G,grantAccess:ze,isSent:L,isFormOpen:Q,checkAvailability:_e,storedEmail:_,storedName:M,resetEmail:Pe,namePlaceholder:H,password:Ne,passwordPlaceholder:Ve,generatePassword:Ce,maxLength:se,claimInvite:Fe,invited:K}}async function $e(){console.log(U.token,_.value)}async function Fe(){var e,r,t;if(_.value&&!K.value){const s={email:_.value};try{const n=await fetch("https://synthdb.chromatone.center/flows/trigger/164bb1bb-3745-423f-8239-703198dfbac5",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(s)});console.log(await(n==null?void 0:n.json()))}catch(n){console.error(n,(r=(e=n==null?void 0:n.errors)==null?void 0:e[0])==null?void 0:r.message,(t=n==null?void 0:n.response)==null?void 0:t.status)}K.value=!0}}async function ze(){var e,r,t;if(!(!T.value&&!oe(T.value))&&($.value=!0,!L.value)){L.value=!0;const s={email:T.value,name:(G.value||H.value||"").slice(0,se)};try{_.value=T.value,M.value=G.value||H.value;const n=await fetch("https://synthdb.chromatone.center/flows/trigger/51cc7591-219e-4b56-ad6d-c39a34f7cf2f",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(s)});console.log(await(n==null?void 0:n.json()))}catch(n){console.error(n,(r=(e=n==null?void 0:n.errors)==null?void 0:e[0])==null?void 0:r.message,(t=n==null?void 0:n.response)==null?void 0:t.status)}}}function Ce(){return[...window.crypto.getRandomValues(new Uint8Array(16))].map(e=>"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_.,!?$%&*#@".charAt(e%72)).join("").slice(0,10)}export{Me as a,Ie as b,Je as c,Re as d,Le as u};
