const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/virtual_pwa-register.BTQQGBu9.js","assets/chunks/framework.gmJ0nyoV.js"])))=>i.map(i=>d[i]);
import{o as se,n as ie,r as $,a as Fe,w as N,g as ge,i as Q,t as k,b as Ne,c as Pe,s as Ve,d as M,e as ce,f as C,h as F,j as q,v as je,u as g,k as p,l as ee,m as W,p as ue,q as de,x as fe,y as pe,_ as De,z as Me,A as Re,B as be,C as We,D as ze,E as J,F as B,T as Ie,G as Le}from"./framework.gmJ0nyoV.js";function le(e){return Ne()?(Pe(e),!0):!1}const we=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Je=e=>e!=null,Be=Object.prototype.toString,Ue=e=>Be.call(e)==="[object Object]",j=()=>{};function xe(e,t){function n(...a){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(i)})}return n}const _e=e=>e();function Ge(...e){let t=0,n,a=!0,r=j,i,d,o,c,m;!Q(e[0])&&typeof e[0]=="object"?{delay:d,trailing:o=!0,leading:c=!0,rejectOnCancel:m=!1}=e[0]:[d,o=!0,c=!0,m=!1]=e;const s=()=>{n&&(clearTimeout(n),n=void 0,r(),r=j)};return h=>{const b=k(d),w=Date.now()-t,A=()=>i=h();return s(),b<=0?(t=Date.now(),A()):(w>b&&(c||!a)?(t=Date.now(),A()):o&&(i=new Promise((x,_)=>{r=m?_:x,n=setTimeout(()=>{t=Date.now(),a=!0,x(A()),s()},Math.max(0,b-w))})),!c&&!n&&(n=setTimeout(()=>a=!0,b)),a=!1,i)}}function Ke(e=_e){const t=$(!0);function n(){t.value=!1}function a(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:Fe(t),pause:n,resume:a,eventFilter:r}}function He(e,t=!1,n="Timeout"){return new Promise((a,r)=>{setTimeout(t?()=>r(n):a,e)})}function Ye(e){return e}function Ze(e){return ge()}function te(e){return Array.isArray(e)?e:[e]}function Zt(e,t=200,n=!1,a=!0,r=!1){return xe(Ge(t,n,a,r),e)}function qe(e,t,n={}){const{eventFilter:a=_e,...r}=n;return N(e,xe(a,t),r)}function Se(e,t,n={}){const{eventFilter:a,...r}=n,{eventFilter:i,pause:d,resume:o,isActive:c}=Ke(a);return{stop:qe(e,t,{...r,eventFilter:i}),pause:d,resume:o,isActive:c}}function Xe(e,t=!0,n){Ze()?se(e,n):t?e():ie(e)}function qt(e,t,n){const a=N(e,(...r)=>(ie(()=>a()),t(...r)),n);return a}const D=we?window:void 0,Qe=we?window.navigator:void 0;function K(e){var t;const n=k(e);return(t=n==null?void 0:n.$el)!=null?t:n}function H(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=D):[t,n,a,r]=e,!t)return j;n=te(n),a=te(a);const i=[],d=()=>{i.forEach(s=>s()),i.length=0},o=(s,l,h,b)=>(s.addEventListener(l,h,b),()=>s.removeEventListener(l,h,b)),c=N(()=>[K(t),k(r)],([s,l])=>{if(d(),!s)return;const h=Ue(l)?{...l}:l;i.push(...n.flatMap(b=>a.map(w=>o(s,b,w,h))))},{immediate:!0,flush:"post"}),m=()=>{c(),d()};return le(m),m}function et(){const e=$(!1),t=ge();return t&&se(()=>{e.value=!0},t),e}function ke(e){const t=et();return M(()=>(t.value,!!e()))}const U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G="__vueuse_ssr_handlers__",tt=nt();function nt(){return G in U||(U[G]=U[G]||{}),U[G]}function rt(e,t){return tt[e]||t}function at(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ot={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},me="vueuse-storage";function Ae(e,t,n,a={}){var r;const{flush:i="pre",deep:d=!0,listenToStorageChanges:o=!0,writeDefaults:c=!0,mergeDefaults:m=!1,shallow:s,window:l=D,eventFilter:h,onError:b=v=>{console.error(v)},initOnMounted:w}=a,A=(s?Ve:$)(typeof t=="function"?t():t),x=M(()=>k(e));if(!n)try{n=rt("getDefaultStorage",()=>{var v;return(v=D)==null?void 0:v.localStorage})()}catch(v){b(v)}if(!n)return A;const _=k(t),f=at(_),u=(r=a.serializer)!=null?r:ot[f],{pause:y,resume:S}=Se(A,()=>I(A.value),{flush:i,deep:d,eventFilter:h});N(x,()=>R(),{flush:i}),l&&o&&Xe(()=>{n instanceof Storage?H(l,"storage",R,{passive:!0}):H(l,me,Ce),w&&R()}),w||R();function E(v,O){if(l){const T={key:x.value,oldValue:v,newValue:O,storageArea:n};l.dispatchEvent(n instanceof Storage?new StorageEvent("storage",T):new CustomEvent(me,{detail:T}))}}function I(v){try{const O=n.getItem(x.value);if(v==null)E(O,null),n.removeItem(x.value);else{const T=u.write(v);O!==T&&(n.setItem(x.value,T),E(O,T))}}catch(O){b(O)}}function L(v){const O=v?v.newValue:n.getItem(x.value);if(O==null)return c&&_!=null&&n.setItem(x.value,u.write(_)),_;if(!v&&m){const T=u.read(O);return typeof m=="function"?m(T,_):f==="object"&&!Array.isArray(T)?{..._,...T}:T}else return typeof O!="string"?O:u.read(O)}function R(v){if(!(v&&v.storageArea!==n)){if(v&&v.key==null){A.value=_;return}if(!(v&&v.key!==x.value)){y();try{(v==null?void 0:v.newValue)!==u.write(A.value)&&(A.value=L(v))}catch(O){b(O)}finally{v?ie(S):S()}}}}function Ce(v){R(v.detail)}return A}function st(e,t,n={}){const{root:a,rootMargin:r="0px",threshold:i=0,window:d=D,immediate:o=!0}=n,c=ke(()=>d&&"IntersectionObserver"in d),m=M(()=>{const w=k(e);return te(w).map(K).filter(Je)});let s=j;const l=$(o),h=c.value?N(()=>[m.value,K(a),l.value],([w,A])=>{if(s(),!l.value||!w.length)return;const x=new IntersectionObserver(t,{root:K(A),rootMargin:r,threshold:i});w.forEach(_=>_&&x.observe(_)),s=()=>{x.disconnect(),s=j}},{immediate:o,flush:"post"}):j,b=()=>{s(),h(),l.value=!1};return le(b),{isSupported:c,isActive:l,pause(){s(),l.value=!1},resume(){l.value=!0},stop:b}}function Xt(e,t={}){const{window:n=D,scrollTarget:a,threshold:r=0,rootMargin:i}=t,d=$(!1);return st(e,o=>{let c=d.value,m=0;for(const s of o)s.time>=m&&(m=s.time,c=s.isIntersecting);d.value=c},{root:a,window:n,threshold:r,rootMargin:k(i)}),d}function Qt(e={},t={}){const{navigator:n=Qe}=t,a=n,r=ke(()=>a&&"canShare"in a);return{isSupported:r,share:async(d={})=>{if(r.value){const o={...k(e),...k(d)};let c=!0;if(o.files&&a.canShare&&(c=a.canShare({files:o.files})),c)return a.share(o)}}}}function it([e,t,n,a]){const r=(s,l)=>1-3*l+3*s,i=(s,l)=>3*l-6*s,d=s=>3*s,o=(s,l,h)=>((r(l,h)*s+i(l,h))*s+d(l))*s,c=(s,l,h)=>3*r(l,h)*s*s+2*i(l,h)*s+d(l),m=s=>{let l=s;for(let h=0;h<4;++h){const b=c(l,e,n);if(b===0)return l;const w=o(l,e,n)-s;l-=w/b}return l};return s=>e===t&&n===a?s:o(m(s),t,a)}function ve(e,t,n){return e+n*(t-e)}function X(e){return(typeof e=="number"?[e]:e)||[]}function lt(e,t,n,a={}){var r,i;const d=k(t),o=k(n),c=X(d),m=X(o),s=(r=k(a.duration))!=null?r:1e3,l=Date.now(),h=Date.now()+s,b=typeof a.transition=="function"?a.transition:(i=k(a.transition))!=null?i:Ye,w=typeof b=="function"?b:it(b);return new Promise(A=>{e.value=d;const x=()=>{var _;if((_=a.abort)!=null&&_.call(a)){A();return}const f=Date.now(),u=w((f-l)/s),y=X(e.value).map((S,E)=>ve(c[E],m[E],u));Array.isArray(e.value)?e.value=y.map((S,E)=>{var I,L;return ve((I=c[E])!=null?I:0,(L=m[E])!=null?L:0,u)}):typeof e.value=="number"&&(e.value=y[0]),f<h?requestAnimationFrame(x):(e.value=o,A())};x()})}function en(e,t={}){let n=0;const a=()=>{const i=k(e);return typeof i=="number"?i:i.map(k)},r=$(a());return N(a,async i=>{var d,o;if(k(t.disabled))return;const c=++n;if(t.delay&&await He(k(t.delay)),c!==n)return;const m=Array.isArray(i)?i.map(k):k(i);(d=t.onStarted)==null||d.call(t),await lt(r,r.value,m,{...t,abort:()=>{var s;return c!==n||((s=t.abort)==null?void 0:s.call(t))}}),(o=t.onFinished)==null||o.call(t)},{deep:!0}),N(()=>k(t.disabled),i=>{i&&(n++,r.value=a())}),le(()=>{n++}),M(()=>k(t.disabled)?a():r.value)}function ct(e="history",t={}){const{initialValue:n={},removeNullishValues:a=!0,removeFalsyValues:r=!1,write:i=!0,writeMode:d="replace",window:o=D}=t;if(!o)return ce(n);const c=ce({});function m(){if(e==="history")return o.location.search||"";if(e==="hash"){const u=o.location.hash||"",y=u.indexOf("?");return y>0?u.slice(y):""}else return(o.location.hash||"").replace(/^#/,"")}function s(u){const y=u.toString();if(e==="history")return`${y?`?${y}`:""}${o.location.hash||""}`;if(e==="hash-params")return`${o.location.search||""}${y?`#${y}`:""}`;const S=o.location.hash||"#",E=S.indexOf("?");return E>0?`${o.location.search||""}${S.slice(0,E)}${y?`?${y}`:""}`:`${o.location.search||""}${S}${y?`?${y}`:""}`}function l(){return new URLSearchParams(m())}function h(u){const y=new Set(Object.keys(c));for(const S of u.keys()){const E=u.getAll(S);c[S]=E.length>1?E:u.get(S)||"",y.delete(S)}Array.from(y).forEach(S=>delete c[S])}const{pause:b,resume:w}=Se(c,()=>{const u=new URLSearchParams("");Object.keys(c).forEach(y=>{const S=c[y];Array.isArray(S)?S.forEach(E=>u.append(y,E)):a&&S==null||r&&!S?u.delete(y):u.set(y,S)}),A(u,!1)},{deep:!0});function A(u,y){b(),y&&h(u),d==="replace"?o.history.replaceState(o.history.state,o.document.title,o.location.pathname+s(u)):o.history.pushState(o.history.state,o.document.title,o.location.pathname+s(u)),w()}function x(){i&&A(l(),!0)}const _={passive:!0};H(o,"popstate",x,_),e!=="history"&&H(o,"hashchange",x,_);const f=l();return f.keys().next().value?h(f):Object.assign(c,n),c}const ne=ct("history"),$e=/^([a-zA-Z0-9._%+-]{1,64})@[a-zA-Z0-9.-]{1,255}\.[a-zA-Z]{2,10}$/,Ee=100,z=$(!1),he=$(!1),ut=$(!1),P=Ae("storedEmail",""),Z=Ae("storedName",""),Y=$(!1),V=$(P),re=$(Z),ae=M(()=>{var e;return mt((e=V.value.match($e))==null?void 0:e[1])}),dt=$(""),ft=$(""),pt=M(()=>Oe(V.value)),ye=$(!1),oe=$(!1);function Oe(e){return $e.test(e)}function mt(e=""){return e.charAt(0).toUpperCase()+e.slice(1)}function vt(){P.value="",Z.value="",Y.value=!1,z.value=!1}function Te(){return ye.value||(N(z,e=>{e&&(he.value=!1)}),se(()=>{P.value&&(z.value=!0),ne.token&&ht()}),ye.value=!0),{searchParams:ne,isAccessGranted:z,isValidEmail:pt,email:V,name:re,grantAccess:gt,isSent:Y,isFormOpen:he,checkAvailability:ut,storedEmail:P,storedName:Z,resetEmail:vt,namePlaceholder:ae,password:dt,passwordPlaceholder:ft,generatePassword:bt,maxLength:Ee,claimInvite:yt,invited:oe}}async function ht(){console.log(ne.token,P.value)}async function yt(){var e,t,n;if(P.value&&!oe.value){const a={email:P.value};try{const r=await fetch("https://dbs.chromatone.center/flows/trigger/164bb1bb-3745-423f-8239-703198dfbac5",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});console.log(await(r==null?void 0:r.json()))}catch(r){console.error(r,(t=(e=r==null?void 0:r.errors)==null?void 0:e[0])==null?void 0:t.message,(n=r==null?void 0:r.response)==null?void 0:n.status)}oe.value=!0}}async function gt(){var e,t,n;if(!(!V.value&&!Oe(V.value))&&(z.value=!0,!Y.value)){Y.value=!0;const a={email:V.value,name:(re.value||ae.value||"").slice(0,Ee)};try{P.value=V.value,Z.value=re.value||ae.value;const r=await fetch("https://dbs.chromatone.center/flows/trigger/51cc7591-219e-4b56-ad6d-c39a34f7cf2f",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});console.log(await(r==null?void 0:r.json()))}catch(r){console.error(r,(t=(e=r==null?void 0:r.errors)==null?void 0:e[0])==null?void 0:t.message,(n=r==null?void 0:r.response)==null?void 0:n.status)}}}function bt(){return[...window.crypto.getRandomValues(new Uint8Array(16))].map(e=>"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_.,!?$%&*#@".charAt(e%72)).join("").slice(0,10)}const wt={class:"min-h-40dvh bottom-0 w-full bg-light-800 bg-opacity-80 backdrop-blur flex flex-col items-center gap-4 justify-center dark-bg-dark-200 dark-bg-opacity-80 p-8 shadow max-w-180 bottom-0 rounded-xl"},xt={key:0,class:"flex flex-col gap-4 max-w-45ch text-center"},_t={class:"text-3xl font-bold"},St={class:"text-sm flex gap-2 justify-center"},kt={key:1,class:"flex flex-col gap-8 relative pt-8 items-center"},At={class:"text-center max-w-55ch",for:"email"},$t={class:"flex gap-4 flex-col w-full"},Et={class:"flex items-center gap-2"},Ot=["maxlength"],Tt={class:"flex items-center gap-2"},Ct=["maxlength","placeholder"],Ft=["disabled"],Nt={__name:"FormMain",setup(e){const{name:t,email:n,isValidEmail:a,isFormOpen:r,grantAccess:i,storedEmail:d,storedName:o,resetEmail:c,isAccessGranted:m,namePlaceholder:s,passwordPlaceholder:l,password:h,generatePassword:b,maxLength:w,claimInvite:A,invited:x}=Te();return $(),(_,f)=>(C(),F("div",wt,[q(p("button",{class:"i-la-times absolute top-4 right-4 text-2xl hover-opacity-90 opacity-50 transition",onClick:f[0]||(f[0]=u=>r.value=!1)},null,512),[[je,g(r)]]),g(m)?(C(),F("div",xt,[p("div",_t,"Hello, "+ee(g(o))+"!",1),f[7]||(f[7]=p("div",{class:"text-xl"},"You are part of web-musicians community",-1)),p("div",St,[W(ee(g(d)),1),p("span",{class:"opacity-20 hover-opacity-50 transition cursor-pointer",onClick:f[1]||(f[1]=(...u)=>g(c)&&g(c)(...u))},"Log out")])])):(C(),F("div",kt,[p("label",At,[ue(_.$slots,"default")]),p("div",$t,[p("label",Et,[f[8]||(f[8]=p("div",{class:"p-2 w-24 font-bold text-right"},"E-mail *",-1)),q(p("input",{class:fe(["flex-1 p-4 md-p-4 rounded-xl bg-light-200 shadow-md dark-bg-dark-400 flex-1 border-2 border-solid border-opacity-60 dark-border-opacity-40",{"border-red-700 dark-border-red-300":g(n)&&!g(a),"border-green-700 dark-border-green-800":g(n)&&g(a),"border-light-300":!g(n)}]),ref:"target",maxlength:g(w),"onUpdate:modelValue":f[2]||(f[2]=u=>Q(n)?n.value=u:null),id:"email",name:"email",type:"email",onKeydown:f[3]||(f[3]=pe(u=>g(i)(),["enter"])),placeholder:"your@gmail.com"},null,42,Ot),[[de,g(n)]])]),p("label",Tt,[f[9]||(f[9]=p("div",{class:"p-2 w-24 font-bold text-right"},"Name",-1)),q(p("input",{class:"flex-1 p-4 md-p-4 rounded-xl bg-light-200 shadow-md dark-bg-dark-400","onUpdate:modelValue":f[4]||(f[4]=u=>Q(t)?t.value=u:null),id:"name",maxlength:g(w),name:"name",type:"text",onKeydown:f[5]||(f[5]=pe(u=>g(i)(),["enter"])),placeholder:g(s)},null,40,Ct),[[de,g(t)]])])]),p("button",{class:fe(["text-sm md-text-md p-4 font-bold md-p-4 rounded-xl shadow-xl hover-shadow-2xl transition -hover-translate-y-2px disabled-opacity-40 active-translate-y-0 active-shadow-md bg-green-400 dark-bg-green-700",{"grayscale-50":!g(a)}]),onClick:f[6]||(f[6]=u=>g(i)()),disabled:!g(a),title:"Your access status will be saved per device and you won't need to enter your e-mail again."},[ue(_.$slots,"button",{},()=>[f[10]||(f[10]=W("GET ACCESS"))])],10,Ft)]))]))}},Pt={class:"flex items-center gap-1 p-1 bg-light-100 bg-opacity-90 dark-bg-dark-900 dark-bg-opacity-90 w-full justify-center op-70"};function Vt(e,t){return C(),F("div",Pt,t[0]||(t[0]=[p("div",{class:"p-0"},"Curated with ❤️‍🔥 by",-1),p("a",{href:"https://shop.playtronica.com",target:"_blank"},"Playtronica ",-1),p("span",null,"& ",-1),p("a",{href:"https://chromatone.center",target:"_blank"},"Chromatone",-1)]))}const jt={},Dt=De(jt,[["render",Vt]]),Mt={key:0,class:"pwa-toast",role:"alertdialog","aria-labelledby":"pwa-message"},Rt={__name:"RegisterSW",setup(e){const t=$(!1);function n(){t.value=!0}async function a(){t.value=!1}return Me(async()=>{const{registerSW:r}=await Re(async()=>{const{registerSW:i}=await import("./virtual_pwa-register.BTQQGBu9.js");return{registerSW:i}},__vite__mapDeps([0,1]));r({immediate:!0,onOfflineReady:n,onRegistered(){console.info("Service Worker registered")},onRegisterError(i){console.error("Service Worker registration error!",i)}})}),(r,i)=>t.value?(C(),F("div",Mt,[i[0]||(i[0]=p("div",{class:"mb-3",id:"pwa-message"},"App ready to work offline",-1)),p("button",{class:"pwa-cancel",type:"button",onClick:a},"Close")])):be("",!0)}},Wt={class:"flex flex-col noise items-center relative min-h-100svh"},zt={class:"w-full backdrop-blur-xl fixed bottom-0 bg-light-200 bg-opacity-60 dark-bg-dark-300 dark-bg-opacity-60 z-200"},It={class:"flex flex items-center w-full max-w-160 mx-auto gap-2 p-1"},Lt={class:"p-2 flex items-center gap-4",href:"/"},Jt=["src"],Bt={class:"text-lg font-600"},Ut={key:0,class:"i-la-sun"},Gt={key:1,class:"i-tabler-moon-2"},Kt={class:"flex flex-wrap w-full mx-auto flex-auto justify-center pb-20"},Ht={__name:"MainLayout",setup(e){const{isFormOpen:t,searchParams:n}=Te(),{theme:a,site:r,isDark:i}=We();return(d,o)=>{const c=Rt,m=Dt,s=ze("content"),l=Nt;return C(),F("div",Wt,[J(c),p("div",zt,[p("div",It,[p("a",Lt,[p("img",{class:"w-8",src:g(a).logo,alt:"Web-synths collection logo"},null,8,Jt),p("div",Bt,ee(g(r).title),1)]),o[3]||(o[3]=p("div",{class:"flex-1"},null,-1)),p("button",{class:"text-xl",onClick:o[0]||(o[0]=h=>i.value=!g(i)),"aria-label":"Dark mode toggle"},[g(i)?(C(),F("div",Gt)):(C(),F("div",Ut))]),p("button",{class:"p-2 z-2000 cursor-pointer text-2xl","aria-label":"Player profile",onClick:o[1]||(o[1]=h=>t.value=!g(t))},o[2]||(o[2]=[p("div",{class:"i-ph-user-circle-duotone"},null,-1)]))]),J(m,{class:"z-100"})]),p("div",Kt,[J(s,{class:"w-full",id:"content"})]),J(Ie,{name:"panel"},{default:B(()=>[g(t)?(C(),Le(l,{key:0,class:"fixed z-1000"},{button:B(()=>o[4]||(o[4]=[W("JOIN THE COMMUNITY")])),notice:B(()=>o[5]||(o[5]=[W("Your access status will be saved per device and you won't need to enter your e-mail again.")])),default:B(()=>[o[6]||(o[6]=W("We are building a community of web-based musicians. Type in your e-mail to instantly gain full access to the collection and receive occasional community updates from us. Stay tuned! "))]),_:1})):be("",!0)]),_:1})])}}},tn={Layout:Ht,enhanceApp({app:e}){}};export{tn as R,Nt as _,en as a,Xt as b,Te as c,Ae as d,Zt as e,Qt as u,qt as w};
