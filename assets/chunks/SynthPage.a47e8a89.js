import{u as k,_ as x}from"./useClicks.9990fc96.js";import{r as b,G as S,e as w,o as a,c as l,a as t,g,l as h,w as p,N,h as n,T as B,O as C,n as F,b as o,t as s,m as L,p as V,u as _,F as z,s as D,q as T}from"./framework.b851927c.js";const $={class:"flex flex-col gap-4 bg-light-300 dark-bg-dark-300 rounded-lg shadow-xl overflow-hidden mx-auto"},q=["title","src"],A={class:"flex flex-col p-4 gap-1 bottom-0 bg-light-100 dark-bg-dark-200 w-full max-w-180 mx-auto mb-12 relative"},E={class:"text-xl font-bold flex items-center gap-4"},G={class:"p-0 flex gap-4"},I=["href"],M={class:"px-2 py-0 bg-light-800 dark-bg-dark-800 rounded-xl transition text-sm select-none text-center z-200 flex items-center gap-1 opacity-40 hover-opacity-100 transition"},O=t("div",{class:"i-la-eye"},null,-1),P={key:0,class:"flex-1 flex items-end flex flex-wrap gap-2"},j={key:1,class:"p-0"},H={class:"mt-4"},R={__name:"SynthPage",props:{title:{type:String,default:""},description:{type:String,default:""},author:{type:String,default:""},author_link:{type:String,default:""},cover:{type:String,default:""},slug:{type:String,default:""},url:{type:String,default:""},tags:{type:Array,default:[]},archive:{type:Boolean,default:!1},archive_link:{type:String,default:""},iframe:{type:Boolean,default:!1},clicks:{type:Number,default:0},id:{type:Number,default:0}},setup(e){const d=e,r=b(!1);function m(i){i.timeStamp<5e3&&(r.value=!0)}const{clickSynth:y,clicksCount:c}=k(d.id);return S(()=>d.clicks,i=>c.value=i,{immediate:!0}),w(async()=>{await y()}),(i,J)=>{var u;const v=x;return a(),l("div",$,[t("div",{class:C(["p-0 h-70svh bg-cover bg-center",{"animate-pulse":e.iframe&&!r.value}]),style:F({backgroundImage:`url(/cover/${e.slug}.webp)`})},[g(B,{name:"fade"},{default:h(()=>[e.iframe?p((a(),l("iframe",{key:0,class:"w-full h-70svh bg-light-100 dark-bg-dark-800",allow:"midi *",onLoad:m,title:e.title,src:e.archive?e.archive_link:e.url},null,40,q)),[[N,r.value]]):n("",!0)]),_:1})],6),t("div",A,[t("div",E,[o(s(e.title)+" ",1),e.author?(a(),L(V(e.author_link?"a":"div"),{key:0,class:"text-lg font-300",target:"_blank",href:e.author_link},{default:h(()=>[o("by "+s(e.author),1)]),_:1},8,["href"])):n("",!0),g(v,{id:e.id},null,8,["id"])]),t("div",G,[t("a",{class:"my-2 font-mono text-sm",href:e.url,target:"_blank"},s(e.url),9,I),t("div",M,[o(s(_(c)),1),O])]),((u=e.tags)==null?void 0:u.length)>0?(a(),l("div",P,[(a(!0),l(z,null,D(e.tags,f=>(a(),l("div",{class:"px-2 py-1 text-sm bg-light-800 dark-bg-dark-500 rounded-lg",key:f},s(f),1))),128))])):n("",!0),e.description?(a(),l("div",j,s(e.description),1)):n("",!0),t("div",H,[T(i.$slots,"default")])])])}}};export{R as _};
