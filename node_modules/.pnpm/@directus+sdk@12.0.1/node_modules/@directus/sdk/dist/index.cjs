"use strict";var F=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var $=(e,t)=>{for(var r in t)F(e,r,{get:t[r],enumerable:!0})},W=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let m of J(t))!k.call(e,m)&&m!==r&&F(e,m,{get:()=>t[m],enumerable:!(s=U(t,m))||s.enumerable});return e};var K=e=>W(F({},"__esModule",{value:!0}),e);var jo={};$(jo,{acceptUserInvite:()=>yo,aggregate:()=>Qt,auth:()=>D,authenticateShare:()=>co,authentication:()=>H,clearCache:()=>to,createCollection:()=>se,createComment:()=>oe,createDashboard:()=>me,createDashboards:()=>ae,createDirectus:()=>M,createField:()=>ne,createFlow:()=>de,createFlows:()=>pe,createFolder:()=>ue,createFolders:()=>he,createItem:()=>Se,createItems:()=>ye,createNotification:()=>fe,createNotifications:()=>le,createOperation:()=>Qe,createOperations:()=>xe,createPanel:()=>Te,createPanels:()=>be,createPermission:()=>je,createPermissions:()=>Ce,createPreset:()=>ge,createPresets:()=>Re,createRelation:()=>De,createRole:()=>Pe,createRoles:()=>Oe,createShare:()=>Ee,createShares:()=>Fe,createTranslation:()=>Ae,createTranslations:()=>Ie,createUser:()=>Ne,createUsers:()=>we,createWebhook:()=>Ue,createWebhooks:()=>ve,deleteCollection:()=>ke,deleteComment:()=>Je,deleteDashboard:()=>We,deleteDashboards:()=>$e,deleteField:()=>Ke,deleteFile:()=>Le,deleteFiles:()=>Ge,deleteFlow:()=>_e,deleteFlows:()=>He,deleteFolder:()=>qe,deleteFolders:()=>Me,deleteItem:()=>ze,deleteItems:()=>Be,deleteNotification:()=>Xe,deleteNotifications:()=>Ve,deleteOperation:()=>Ze,deleteOperations:()=>Ye,deletePanel:()=>tt,deletePanels:()=>et,deletePermission:()=>ot,deletePermissions:()=>rt,deletePreset:()=>at,deletePresets:()=>st,deleteRelation:()=>mt,deleteRole:()=>ct,deleteRoles:()=>nt,deleteShare:()=>pt,deleteShares:()=>it,deleteTranslation:()=>ht,deleteTranslations:()=>dt,deleteUser:()=>yt,deleteUsers:()=>ut,deleteWebhook:()=>lt,deleteWebhooks:()=>St,disableTwoFactor:()=>fo,enableTwoFactor:()=>lo,generateHash:()=>so,generateTwoFactorSecret:()=>So,generateUid:()=>P,graphql:()=>B,importFile:()=>ie,inviteShare:()=>io,inviteUser:()=>uo,login:()=>X,logout:()=>Y,memoryStorage:()=>I,messageCallback:()=>O,passwordRequest:()=>Z,passwordReset:()=>ee,pong:()=>A,queryToParams:()=>E,readActivities:()=>ft,readActivity:()=>xt,readCollection:()=>Tt,readCollections:()=>bt,readDashboard:()=>jt,readDashboards:()=>Ct,readExtensions:()=>Rt,readField:()=>Ot,readFields:()=>gt,readFieldsByCollection:()=>Dt,readFile:()=>Ft,readFiles:()=>Pt,readFlow:()=>It,readFlows:()=>Et,readFolder:()=>wt,readFolders:()=>At,readGraphqlSdl:()=>ur,readItem:()=>vt,readItems:()=>Nt,readMe:()=>nr,readNotification:()=>Jt,readNotifications:()=>Ut,readOpenApiSpec:()=>lr,readOperation:()=>$t,readOperations:()=>kt,readPanel:()=>Kt,readPanels:()=>Wt,readPermission:()=>Lt,readPermissions:()=>Gt,readPreset:()=>_t,readPresets:()=>Ht,readProviders:()=>te,readRelation:()=>Bt,readRelationByCollection:()=>qt,readRelations:()=>Mt,readRevision:()=>Vt,readRevisions:()=>zt,readRole:()=>Yt,readRoles:()=>Xt,readSettings:()=>Zt,readShare:()=>tr,readShareInfo:()=>po,readShares:()=>er,readSingleton:()=>rr,readTranslation:()=>sr,readTranslations:()=>or,readUser:()=>mr,readUsers:()=>ar,readWebhook:()=>ir,readWebhooks:()=>cr,realtime:()=>V,refresh:()=>re,rest:()=>Qo,schemaApply:()=>pr,schemaDiff:()=>dr,schemaSnapshot:()=>hr,serverHealth:()=>yr,serverInfo:()=>Sr,serverPing:()=>fr,sleep:()=>w,staticToken:()=>_,throwIfCoreCollection:()=>f,throwIfEmpty:()=>o,triggerFlow:()=>oo,triggerOperation:()=>no,updateCollection:()=>Qr,updateComment:()=>xr,updateDashboard:()=>Tr,updateDashboards:()=>br,updateField:()=>Cr,updateFile:()=>Rr,updateFiles:()=>jr,updateFlow:()=>Dr,updateFlows:()=>gr,updateFolder:()=>Pr,updateFolders:()=>Or,updateItem:()=>Er,updateItems:()=>Fr,updateMe:()=>Yr,updateNotification:()=>Ar,updateNotifications:()=>Ir,updateOperation:()=>Nr,updateOperations:()=>wr,updatePanel:()=>Ur,updatePanels:()=>vr,updatePermission:()=>kr,updatePermissions:()=>Jr,updatePreset:()=>Wr,updatePresets:()=>$r,updateRelation:()=>Kr,updateRole:()=>Lr,updateRoles:()=>Gr,updateSettings:()=>Hr,updateShare:()=>Mr,updateShares:()=>_r,updateSingleton:()=>qr,updateTranslation:()=>zr,updateTranslations:()=>Br,updateUser:()=>Xr,updateUsers:()=>Vr,updateWebhook:()=>eo,updateWebhooks:()=>Zr,uploadFiles:()=>ce,utilitySort:()=>ho,utilsExport:()=>ro,utilsImport:()=>mo,verifyHash:()=>ao,withOptions:()=>bo,withSearch:()=>To,withToken:()=>Co});module.exports=K(jo);var g="/",G=(e,t)=>(e.endsWith(g)&&(e=e.slice(0,-1)),t.startsWith(g)||(t=g+t),e+t),j=(e,t,r)=>{let s=e.pathname===g?t:G(e.pathname,t),m=new globalThis.URL(s,e);if(r)for(let[c,n]of Object.entries(E(r)))if(n&&typeof n=="object"&&!Array.isArray(n))for(let[p,y]of Object.entries(n))m.searchParams.set(`${c}[${p}]`,String(y));else m.searchParams.set(c,n);return m};async function N(e){let t=e.headers.get("Content-Type")?.toLowerCase();if(t?.startsWith("application/json")||t?.startsWith("application/health+json")){let r=await e.json();if(!e.ok)throw r;return"data"in r?r.data:r}if(t?.startsWith("text/html")||t?.startsWith("text/plain")){let r=await e.text();if(!e.ok)throw r;return r}}var R=async(e,t,r=globalThis.fetch)=>{t.headers=typeof t.headers=="object"&&!Array.isArray(t.headers)?t.headers:{};let s=await r(e,t);return await N(s).catch(c=>{throw{errors:typeof c=="object"&&"errors"in c?c.errors:c,response:s}})};var I=()=>{let e=null;return{get:async()=>e,set:async t=>{e=t}}};var L={msRefreshBeforeExpires:3e4,autoRefresh:!0},H=(e="cookie",t={})=>r=>{let s={...L,...t},m=null,c=null,n=s.storage??I(),p=()=>{n.set({access_token:null,refresh_token:null,expires:null,expires_at:null})},y=async()=>{try{await m}finally{m=null}},x=async()=>{let S=await n.get();if(m||!S?.expires_at){await y();return}S.expires_at<new Date().getTime()+s.msRefreshBeforeExpires&&Q().catch(a=>{}),await y()},T=S=>{let a=S.expires??0;S.expires_at=new Date().getTime()+a,n.set(S),s.autoRefresh&&a>s.msRefreshBeforeExpires&&a<Number.MAX_SAFE_INTEGER&&(c&&clearTimeout(c),c=setTimeout(()=>{c=null,Q().catch(i=>{})},a-s.msRefreshBeforeExpires))},Q=async()=>(m=(async()=>{let a=await n.get();p();let i={method:"POST",headers:{"Content-Type":"application/json"}};"credentials"in s&&(i.credentials=s.credentials);let d={mode:e};e==="json"&&a?.refresh_token&&(d.refresh_token=a.refresh_token),i.body=JSON.stringify(d);let h=j(r.url,"/auth/refresh"),b=await R(h.toString(),i,r.globals.fetch);return T(b),b})().catch(a=>{throw a}),m);return{refresh:Q,async login(S,a,i={}){p();let d=j(r.url,"/auth/login"),h={email:S,password:a};"otp"in i&&(h.otp=i.otp),h.mode=i.mode??e;let b={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)};"credentials"in s&&(b.credentials=s.credentials);let l=await R(d.toString(),b,r.globals.fetch);return T(l),l},async logout(){let S=await n.get(),a={method:"POST",headers:{"Content-Type":"application/json"}};"credentials"in s&&(a.credentials=s.credentials),e==="json"&&S?.refresh_token&&(a.body=JSON.stringify({refresh_token:S.refresh_token}));let i=j(r.url,"/auth/logout");await R(i.toString(),a,r.globals.fetch),c&&clearTimeout(c),p()},async getToken(){return await x(),(await n.get())?.access_token??null},setToken(S){n.set({access_token:S,refresh_token:null,expires:null,expires_at:null})}}};var _=e=>t=>{let r=e??null;return{async getToken(){return r},setToken(s){r=s}}};var v={fetch:globalThis.fetch,WebSocket:globalThis.WebSocket,URL:globalThis.URL},M=(e,t={})=>{let r=t.globals?{...v,...t.globals}:v;return{globals:r,url:new r.URL(e),with(s){return{...this,...s(this)}}}};var q={},B=(e={})=>t=>{let r={...q,...e};return{async query(s,m,c="items"){let n={method:"POST",body:JSON.stringify({query:s,variables:m})};"credentials"in r&&(n.credentials=r.credentials);let p={};if("getToken"in this){let T=await this.getToken();T&&(p.Authorization=`Bearer ${T}`)}"Content-Type"in p||(p["Content-Type"]="application/json"),n.headers=p;let y=c==="items"?"/graphql":"/graphql/system",x=j(t.url,y);return await R(x.toString(),n,t.globals.fetch)}}};function D(e){return JSON.stringify({...e,type:"auth"})}var A=()=>JSON.stringify({type:"pong"});var O=(e,t=1e3)=>new Promise((r,s)=>{let m=y=>{try{let x=JSON.parse(y.data);typeof x=="object"&&!Array.isArray(x)&&x!==null?(n(),r(x)):(n(),c())}catch{n(),r(y)}},c=()=>s(),n=()=>{clearTimeout(p),e.removeEventListener("message",m),e.removeEventListener("error",c),e.removeEventListener("close",c)};e.addEventListener("message",m),e.addEventListener("error",c),e.addEventListener("close",c);let p=setTimeout(()=>{n(),r(void 0)},t)});function*P(){let e=1;for(;;)yield String(e),e++}var z={authMode:"handshake",heartbeat:!0,reconnect:{delay:1e3,retries:10}};function V(e={}){return t=>{e={...z,...e};let r=null,s=P(),m=0,c=!1,n=a=>"getToken"in a,p=async(a,i)=>{if(e.authMode==="strict"&&n(i)){let d=await i.getToken();d&&a.searchParams.set("access_token",d)}return a},y=async a=>{if("url"in e)return await p(new t.globals.URL(e.url),a);if(["ws:","wss:"].includes(t.url.protocol))return await p(t.url,a);let i=new t.globals.URL(t.url.toString());return i.protocol=t.url.protocol==="https:"?"wss:":"ws:",i.pathname="/websocket",await p(i,a)},x=()=>{r=null,s=P()};function T(){e.reconnect&&!c&&m<e.reconnect.retries?(c=!0,setTimeout(()=>{m+=1,this.connect().then(()=>{m=0,c=!1}).catch(()=>{})},Math.max(1,e.reconnect.delay))):c=!1}let Q={open:new Set([]),error:new Set([]),close:new Set([]),message:new Set([])},S=async(a,i)=>{for(;a.readyState!==WebSocket.CLOSED;){let d=await O(a).catch(()=>{});if(d){if("type"in d){if(d.type==="auth"&&"status"in d&&d.status==="error"&&"error"in d){if(d.error==="TOKEN_EXPIRED"&&n(i)){let h=await i.getToken();if(h){a.send(D({access_token:h}));continue}}if(d.error==="AUTH_TIMEOUT"){a.close();continue}}if(e.heartbeat&&d.type==="ping"){a.send(A());continue}}Q.message.forEach(h=>h.call(a,d))}}};return{async connect(){let a=this,i=await y(a);return new Promise((d,h)=>{let b=!1,l=new t.globals.WebSocket(i);l.addEventListener("open",async u=>{if(e.authMode==="handshake"&&n(a)){let C=await a.getToken();C&&l.send(D({access_token:C}))}b=!0,Q.open.forEach(C=>C.call(l,u)),S(l,a),d()}),l.addEventListener("error",u=>{Q.error.forEach(C=>C.call(l,u)),l.close(),b||h(u)}),l.addEventListener("close",u=>{Q.close.forEach(C=>C.call(l,u)),x(),T.call(this),b||h(u)}),r=l})},disconnect(){r&&r?.readyState===WebSocket.OPEN&&r.close(),r=null},onWebSocket(a,i){if(a==="message"){let d=function(h){if(typeof h.data!="string")return i.call(this,h);try{return i.call(this,JSON.parse(h.data))}catch{return i.call(this,h)}};return Q[a].add(d),()=>Q[a].delete(d)}return Q[a].add(i),()=>Q[a].delete(i)},sendMessage(a){if(!r||r?.readyState!==WebSocket.OPEN)throw new Error("websocket connection not OPEN");if(typeof a=="string"){r.send(a);return}"uid"in a||(a.uid=s.next().value),r?.send(JSON.stringify(a))},async subscribe(a,i={}){(!r||r.readyState!==WebSocket.OPEN)&&await this.connect(),"uid"in i||(i.uid=s.next().value);let d=!0,h=r,b=u=>h.send(JSON.stringify(u));b({...i,collection:a,type:"subscribe"});async function*l(){for(;d&&h&&h.readyState===WebSocket.OPEN;){let u=await O(h).catch(()=>{});if(u){if("type"in u&&"status"in u&&u.type==="subscribe"&&u.status==="error")throw u;"type"in u&&"uid"in u&&u.type==="subscription"&&u.uid===i.uid&&(yield u)}}if(e.reconnect&&c){for(;c;)await w(10);r&&r.readyState===WebSocket.OPEN&&(r.send(JSON.stringify({...i,collection:a,type:"subscribe"})),yield*l())}}return{subscription:l(),unsubscribe(){b({uid:i.uid,type:"unsubscribe"}),d=!1}}}}}}var w=e=>new Promise(t=>setTimeout(()=>t(),e));var X=(e,t,r={})=>()=>{let s={email:e,password:t};return"otp"in r&&(s.otp=r.otp),s.mode=r.mode??"cookie",{path:"/auth/login",method:"POST",body:JSON.stringify(s)}};var Y=e=>()=>({path:"/auth/logout",method:"POST",body:JSON.stringify(e?{refresh_token:e}:{})});var Z=(e,t)=>()=>({path:"/auth/password/request",method:"POST",body:JSON.stringify({email:e,...t?{reset_url:t}:{}})});var ee=(e,t)=>()=>({path:"/auth/password/reset",method:"POST",body:JSON.stringify({token:e,password:t})});var te=()=>()=>({path:"/auth",method:"GET"});var re=(e="cookie",t)=>()=>({path:"/auth/refresh",method:"POST",body:JSON.stringify(e==="json"?{refresh_token:t,mode:e}:{mode:e})});var oe=(e,t)=>()=>({path:"/activity/comment",params:t??{},body:JSON.stringify(e),method:"POST"});var se=(e,t)=>()=>({path:"/collections",params:t??{},body:JSON.stringify(e),method:"POST"});var ae=(e,t)=>()=>({path:"/dashboards",params:t??{},body:JSON.stringify(e),method:"POST"}),me=(e,t)=>()=>({path:"/dashboards",params:t??{},body:JSON.stringify(e),method:"POST"});var ne=(e,t,r)=>()=>({path:`/fields/${e}`,params:r??{},body:JSON.stringify(t),method:"POST"});var ce=(e,t)=>()=>({path:"/files",method:"POST",body:e,params:t??{},headers:{"Content-Type":"multipart/form-data"}}),ie=(e,t={},r)=>()=>({path:"/files/import",method:"POST",body:JSON.stringify({url:e,data:t}),params:r??{}});var pe=(e,t)=>()=>({path:"/flows",params:t??{},body:JSON.stringify(e),method:"POST"}),de=(e,t)=>()=>({path:"/flows",params:t??{},body:JSON.stringify(e),method:"POST"});var he=(e,t)=>()=>({path:"/folders",params:t??{},body:JSON.stringify(e),method:"POST"}),ue=(e,t)=>()=>({path:"/folders",params:t??{},body:JSON.stringify(e),method:"POST"});var ye=(e,t,r)=>()=>{let s=String(e);if(s.startsWith("directus_"))throw new Error("Cannot use createItems for core collections");return{path:`/items/${s}`,params:r??{},body:JSON.stringify(t),method:"POST"}},Se=(e,t,r)=>()=>{let s=String(e);if(s.startsWith("directus_"))throw new Error("Cannot use createItem for core collections");return{path:`/items/${s}`,params:r??{},body:JSON.stringify(t),method:"POST"}};var le=(e,t)=>()=>({path:"/notifications",params:t??{},body:JSON.stringify(e),method:"POST"}),fe=(e,t)=>()=>({path:"/notifications",params:t??{},body:JSON.stringify(e),method:"POST"});var xe=(e,t)=>()=>({path:"/operations",params:t??{},body:JSON.stringify(e),method:"POST"}),Qe=(e,t)=>()=>({path:"/operations",params:t??{},body:JSON.stringify(e),method:"POST"});var be=(e,t)=>()=>({path:"/panels",params:t??{},body:JSON.stringify(e),method:"POST"}),Te=(e,t)=>()=>({path:"/panels",params:t??{},body:JSON.stringify(e),method:"POST"});var Ce=(e,t)=>()=>({path:"/permissions",params:t??{},body:JSON.stringify(e),method:"POST"}),je=(e,t)=>()=>({path:"/permissions",params:t??{},body:JSON.stringify(e),method:"POST"});var Re=(e,t)=>()=>({path:"/presets",params:t??{},body:JSON.stringify(e),method:"POST"}),ge=(e,t)=>()=>({path:"/presets",params:t??{},body:JSON.stringify(e),method:"POST"});var De=e=>()=>({path:"/relations",body:JSON.stringify(e),method:"POST"});var Oe=(e,t)=>()=>({path:"/roles",params:t??{},body:JSON.stringify(e),method:"POST"}),Pe=(e,t)=>()=>({path:"/roles",params:t??{},body:JSON.stringify(e),method:"POST"});var Fe=(e,t)=>()=>({path:"/shares",params:t??{},body:JSON.stringify(e),method:"POST"}),Ee=(e,t)=>()=>({path:"/shares",params:t??{},body:JSON.stringify(e),method:"POST"});var Ie=(e,t)=>()=>({path:"/translations",params:t??{},body:JSON.stringify(e),method:"POST"}),Ae=(e,t)=>()=>({path:"/translations",params:t??{},body:JSON.stringify(e),method:"POST"});var we=(e,t)=>()=>({path:"/users",params:t??{},body:JSON.stringify(e),method:"POST"}),Ne=(e,t)=>()=>({path:"/users",params:t??{},body:JSON.stringify(e),method:"POST"});var ve=(e,t)=>()=>({path:"/webhooks",params:t??{},body:JSON.stringify(e),method:"POST"}),Ue=(e,t)=>()=>({path:"/webhooks",params:t??{},body:JSON.stringify(e),method:"POST"});var Je=e=>()=>({path:`/activity/comment/${e}`,method:"DELETE"});var ke=e=>()=>({path:`/collections/${e}`,method:"DELETE"});var E=e=>{let t={};if(Array.isArray(e.fields)&&e.fields.length>0){let r=(s,m=[])=>{if(typeof s=="object"){let c=[];for(let n in s){let p=s[n]??[];if(Array.isArray(p))for(let y of p)c.push(r(y,[...m,n]));else if(typeof p=="object")for(let y of Object.keys(p)){let x=p[y];for(let T of x)c.push(r(T,[...m,`${n}:${y}`]))}}return c.flatMap(n=>n)}return[...m,String(s)].join(".")};t.fields=e.fields.flatMap(s=>r(s)).join(",")}return e.filter&&Object.keys(e.filter).length>0&&(t.filter=JSON.stringify(e.filter)),e.search&&(t.search=e.search),"sort"in e&&e.sort&&(t.sort=typeof e.sort=="string"?e.sort:e.sort.join(",")),typeof e.limit=="number"&&e.limit>=-1&&(t.limit=String(e.limit)),typeof e.offset=="number"&&e.offset>=0&&(t.offset=String(e.offset)),typeof e.page=="number"&&e.page>=1&&(t.page=String(e.page)),e.deep&&Object.keys(e.deep).length>0&&(t.deep=JSON.stringify(e.deep)),e.alias&&Object.keys(e.alias).length>0&&(t.alias=JSON.stringify(e.alias)),e.aggregate&&Object.keys(e.aggregate).length>0&&(t.aggregate=JSON.stringify(e.aggregate)),e.groupBy&&e.groupBy.length>0&&(t.groupBy=e.groupBy.join(",")),t};var o=(e,t)=>{if(e.length===0)throw new Error(t)};var f=(e,t)=>{if(String(e).startsWith("directus_"))throw new Error(t)};var $e=e=>()=>(o(e,"Keys cannot be empty"),{path:"/dashboards",body:JSON.stringify(e),method:"DELETE"}),We=e=>()=>(o(e,"Key cannot be empty"),{path:`/dashboards/${e}`,method:"DELETE"});var Ke=(e,t)=>()=>(o(e,"Collection cannot be empty"),o(t,"Field cannot be empty"),{path:`/fields/${e}/${t}`,method:"DELETE"});var Ge=e=>()=>(o(e,"Keys cannot be empty"),{path:"/files",body:JSON.stringify(e),method:"DELETE"}),Le=e=>()=>(o(e,"Key cannot be empty"),{path:`/files/${e}`,method:"DELETE"});var He=e=>()=>(o(e,"Keys cannot be empty"),{path:"/flows",body:JSON.stringify(e),method:"DELETE"}),_e=e=>()=>(o(e,"Key cannot be empty"),{path:`/flows/${e}`,method:"DELETE"});var Me=e=>()=>(o(e,"Keys cannot be empty"),{path:"/folders",body:JSON.stringify(e),method:"DELETE"}),qe=e=>()=>(o(e,"Key cannot be empty"),{path:`/folders/${e}`,method:"DELETE"});var Be=(e,t)=>()=>{let r={};return o(String(e),"Collection cannot be empty"),f(e,"Cannot use deleteItems for core collections"),Array.isArray(t)?(o(t,"keysOrQuery cannot be empty"),r={keys:t}):(o(Object.keys(t),"keysOrQuery cannot be empty"),r={query:t}),{path:`/items/${e}`,body:JSON.stringify(r),method:"DELETE"}},ze=(e,t)=>()=>(o(String(e),"Collection cannot be empty"),f(e,"Cannot use deleteItem for core collections"),o(String(t),"Key cannot be empty"),{path:`/items/${e}/${t}`,method:"DELETE"});var Ve=e=>()=>(o(e,"Keys cannot be empty"),{path:"/notifications",body:JSON.stringify(e),method:"DELETE"}),Xe=e=>()=>(o(e,"Key cannot be empty"),{path:`/notifications/${e}`,method:"DELETE"});var Ye=e=>()=>(o(e,"Keys cannot be empty"),{path:"/operations",body:JSON.stringify(e),method:"DELETE"}),Ze=e=>()=>(o(e,"Key cannot be empty"),{path:`/operations/${e}`,method:"DELETE"});var et=e=>()=>(o(e,"Keys cannot be empty"),{path:"/panels",body:JSON.stringify(e),method:"DELETE"}),tt=e=>()=>(o(e,"Key cannot be empty"),{path:`/panels/${e}`,method:"DELETE"});var rt=e=>()=>(o(e,"Keys cannot be empty"),{path:"/permissions",body:JSON.stringify(e),method:"DELETE"}),ot=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/permissions/${e}`,method:"DELETE"});var st=e=>()=>(o(e,"Keys cannot be empty"),{path:"/presets",body:JSON.stringify(e),method:"DELETE"}),at=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/presets/${e}`,method:"DELETE"});var mt=(e,t)=>()=>(o(e,"Collection cannot be empty"),o(t,"Field cannot be empty"),{path:`/relations/${e}/${t}`,method:"DELETE"});var nt=e=>()=>(o(e,"Keys cannot be empty"),{path:"/roles",body:JSON.stringify(e),method:"DELETE"}),ct=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/roles/${e}`,method:"DELETE"});var it=e=>()=>(o(e,"Keys cannot be empty"),{path:"/shares",body:JSON.stringify(e),method:"DELETE"}),pt=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/shares/${e}`,method:"DELETE"});var dt=e=>()=>(o(e,"Keys cannot be empty"),{path:"/translations",body:JSON.stringify(e),method:"DELETE"}),ht=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/translations/${e}`,method:"DELETE"});var ut=e=>()=>(o(e,"Keys cannot be empty"),{path:"/users",body:JSON.stringify(e),method:"DELETE"}),yt=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/users/${e}`,method:"DELETE"});var St=e=>()=>(o(e,"Keys cannot be empty"),{path:"/webhooks",body:JSON.stringify(e),method:"DELETE"}),lt=e=>()=>(o(String(e),"Key cannot be empty"),{path:`/webhooks/${e}`,method:"DELETE"});var ft=e=>()=>({path:"/activity",params:e??{},method:"GET"}),xt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/activity/${e}`,params:t??{},method:"GET"});var Qt=(e,t)=>()=>{let r=String(e);return o(r,"Collection cannot be empty"),{path:r.startsWith("directus_")?`/${r.substring(9)}`:`/items/${r}`,method:"GET",params:{...t.query??{},...t.groupBy?{groupBy:t.groupBy}:{},aggregate:t.aggregate}}};var bt=()=>()=>({path:"/collections",method:"GET"}),Tt=e=>()=>(o(e,"Collection cannot be empty"),{path:`/collections/${e}`,method:"GET"});var Ct=e=>()=>({path:"/dashboards",params:e??{},method:"GET"}),jt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/dashboards/${e}`,params:t??{},method:"GET"});var Rt=e=>()=>({path:`/extensions/${e}`,method:"GET"});var gt=()=>()=>({path:"/fields",method:"GET"}),Dt=e=>()=>(o(e,"Collection cannot be empty"),{path:`/fields/${e}`,method:"GET"}),Ot=(e,t)=>()=>(o(e,"Collection cannot be empty"),o(t,"Field cannot be empty"),{path:`/fields/${e}/${t}`,method:"GET"});var Pt=e=>()=>({path:"/files",params:e??{},method:"GET"}),Ft=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/files/${e}`,params:t??{},method:"GET"});var Et=e=>()=>({path:"/flows",params:e??{},method:"GET"}),It=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/flows/${e}`,params:t??{},method:"GET"});var At=e=>()=>({path:"/folders",params:e??{},method:"GET"}),wt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/folders/${e}`,params:t??{},method:"GET"});var Nt=(e,t)=>()=>(o(String(e),"Collection cannot be empty"),f(e,"Cannot use readItems for core collections"),{path:`/items/${e}`,params:t??{},method:"GET"}),vt=(e,t,r)=>()=>(o(String(e),"Collection cannot be empty"),f(e,"Cannot use readItem for core collections"),o(String(t),"Key cannot be empty"),{path:`/items/${e}/${t}`,params:r??{},method:"GET"});var Ut=e=>()=>({path:"/notifications",params:e??{},method:"GET"}),Jt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/notifications/${e}`,params:t??{},method:"GET"});var kt=e=>()=>({path:"/operations",params:e??{},method:"GET"}),$t=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/operations/${e}`,params:t??{},method:"GET"});var Wt=e=>()=>({path:"/panels",params:e??{},method:"GET"}),Kt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/panels/${e}`,params:t??{},method:"GET"});var Gt=e=>()=>({path:"/permissions",params:e??{},method:"GET"}),Lt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/permissions/${e}`,params:t??{},method:"GET"});var Ht=e=>()=>({path:"/presets",params:e??{},method:"GET"}),_t=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/presets/${e}`,params:t??{},method:"GET"});var Mt=()=>()=>({path:"/relations",method:"GET"}),qt=e=>()=>({path:`/relations/${e}`,method:"GET"}),Bt=(e,t)=>()=>(o(e,"Collection cannot be empty"),o(t,"Field cannot be empty"),{path:`/relations/${e}/${t}`,method:"GET"});var zt=e=>()=>({path:"/revisions",params:e??{},method:"GET"}),Vt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/revisions/${e}`,params:t??{},method:"GET"});var Xt=e=>()=>({path:"/roles",params:e??{},method:"GET"}),Yt=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/roles/${e}`,params:t??{},method:"GET"});var Zt=e=>()=>({path:"/settings",params:e??{},method:"GET"});var er=e=>()=>({path:"/shares",params:e??{},method:"GET"}),tr=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/shares/${e}`,params:t??{},method:"GET"});var rr=(e,t)=>()=>(o(String(e),"Collection cannot be empty"),f(e,"Cannot use readSingleton for core collections"),{path:`/items/${e}`,params:t??{},method:"GET"});var or=e=>()=>({path:"/translations",params:e??{},method:"GET"}),sr=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/translations/${e}`,params:t??{},method:"GET"});var ar=e=>()=>({path:"/users",params:e??{},method:"GET"}),mr=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/users/${e}`,params:t??{},method:"GET"}),nr=e=>()=>({path:"/users/me",params:e??{},method:"GET"});var cr=e=>()=>({path:"/webhooks",params:e??{},method:"GET"}),ir=(e,t)=>()=>(o(String(e),"Key cannot be empty"),{path:`/webhooks/${e}`,params:t??{},method:"GET"});var pr=e=>()=>({method:"POST",path:"/schema/apply",body:JSON.stringify(e)});var dr=(e,t=!1)=>()=>({method:"POST",path:"/schema/diff",params:t?{force:t}:{},body:JSON.stringify(e)});var hr=()=>()=>({method:"GET",path:"/schema/snapshot"});var ur=(e="item")=>()=>({method:"GET",path:e==="item"?"/server/specs/graphql":"/server/specs/graphql/system"});var yr=()=>()=>({method:"GET",path:"/server/health"});var Sr=()=>()=>({method:"GET",path:"/server/info"});var lr=()=>()=>({method:"GET",path:"/server/specs/oas"});var fr=()=>()=>({method:"GET",path:"/server/ping"});var xr=(e,t,r)=>()=>(o(String(e),"Key cannot be empty"),{path:`/activity/comment/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Qr=(e,t,r)=>()=>(o(e,"Collection cannot be empty"),{path:`/collections/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var br=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/dashboards",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Tr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/dashboards/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Cr=(e,t,r,s)=>()=>(o(e,"Keys cannot be empty"),o(t,"Field cannot be empty"),{path:`/fields/${e}/${t}`,params:s??{},body:JSON.stringify(r),method:"PATCH"});var jr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/files",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Rr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/files/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var gr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/flows",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Dr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/flows/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Or=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/folders",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Pr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/folders/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Fr=(e,t,r,s)=>()=>(o(t,"Keys cannot be empty"),o(String(e),"Collection cannot be empty"),f(e,"Cannot use updateItems for core collections"),{path:`/items/${e}`,params:s??{},body:JSON.stringify({keys:t,data:r}),method:"PATCH"}),Er=(e,t,r,s)=>()=>(o(String(t),"Key cannot be empty"),o(String(e),"Collection cannot be empty"),f(e,"Cannot use updateItem for core collections"),{path:`/items/${e}/${t}`,params:s??{},body:JSON.stringify(r),method:"PATCH"});var Ir=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/notifications",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Ar=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/notifications/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var wr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/operations",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Nr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/operations/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var vr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/panels",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Ur=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/panels/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Jr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/permissions",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),kr=(e,t,r)=>()=>(o(String(e),"Key cannot be empty"),{path:`/permissions/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var $r=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/presets",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Wr=(e,t,r)=>()=>(o(String(e),"Key cannot be empty"),{path:`/presets/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Kr=(e,t,r,s)=>()=>(o(e,"Collection cannot be empty"),o(t,"Field cannot be empty"),{path:`/relations/${e}/${t}`,params:s??{},body:JSON.stringify(r),method:"PATCH"});var Gr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/roles",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Lr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/roles/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Hr=(e,t)=>()=>({path:"/settings",params:t??{},body:JSON.stringify(e),method:"PATCH"});var _r=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/shares",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Mr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/shares/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var qr=(e,t,r)=>()=>(o(String(e),"Collection cannot be empty"),f(e,"Cannot use updateSingleton for core collections"),{path:`/items/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Br=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/translations",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),zr=(e,t,r)=>()=>(o(String(e),"Key cannot be empty"),{path:`/translations/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Vr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/users",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Xr=(e,t,r)=>()=>(o(e,"Key cannot be empty"),{path:`/users/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"}),Yr=(e,t)=>()=>({path:"/users/me",params:t??{},body:JSON.stringify(e),method:"PATCH"});var Zr=(e,t,r)=>()=>(o(e,"Keys cannot be empty"),{path:"/webhooks",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),eo=(e,t,r)=>()=>(o(String(e),"Key cannot be empty"),{path:`/webhooks/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var to=()=>()=>({method:"POST",path:"/utils/cache/clear"});var ro=(e,t,r,s)=>()=>({method:"POST",path:`/utils/export/${e}`,body:JSON.stringify({format:t,query:r,file:s})});var oo=(e,t,r)=>()=>e==="GET"?{path:`/flows/trigger/${t}`,params:r??{},method:"GET"}:{path:`/flows/trigger/${t}`,body:JSON.stringify(r??{}),method:"POST"};var so=e=>()=>({method:"POST",path:"/utils/hash/generate",body:JSON.stringify({string:e})}),ao=(e,t)=>()=>({method:"POST",path:"/utils/hash/verify",body:JSON.stringify({string:e,hash:t})});var mo=(e,t)=>()=>({path:`/utils/import/${e}`,method:"POST",body:t,headers:{"Content-Type":"multipart/form-data"}});var no=(e,t)=>()=>({path:`/operations/trigger/${e}`,body:JSON.stringify(t??{}),method:"POST"});var co=(e,t)=>()=>({path:"/shares/auth",method:"POST",body:JSON.stringify({share:e,password:t})}),io=(e,t)=>()=>({path:"/shares/invite",method:"POST",body:JSON.stringify({share:e,emails:t})}),po=e=>()=>({path:`/shares/info/${e}`,method:"GET"});var ho=(e,t,r)=>()=>({method:"POST",path:`/utils/sort/${e}`,body:JSON.stringify({item:t,to:r})});var uo=(e,t,r)=>()=>({path:"/users/invite",method:"POST",body:JSON.stringify({email:e,role:t,...r?{invite_url:r}:{}})}),yo=(e,t)=>()=>({path:"/users/invite/accept",method:"POST",body:JSON.stringify({token:e,password:t})}),So=e=>()=>({path:"/users/me/tfa/generate",method:"POST",body:JSON.stringify({password:e})}),lo=(e,t)=>()=>({path:"/users/me/tfa/enable",method:"POST",body:JSON.stringify({secret:e,otp:t})}),fo=e=>()=>({path:"/users/me/tfa/disable",method:"POST",body:JSON.stringify({otp:e})});var xo={},Qo=(e={})=>t=>{let r={...xo,...e};return{async request(s){let m=s();if(m.headers||(m.headers={}),"Content-Type"in m.headers?m.headers["Content-Type"]==="multipart/form-data"&&delete m.headers["Content-Type"]:m.headers["Content-Type"]="application/json","getToken"in this){let y=await this.getToken();y&&(m.headers||(m.headers={}),m.headers.Authorization=`Bearer ${y}`)}let c=j(t.url,m.path,m.params),n={method:m.method??"GET",headers:m.headers??{}};"credentials"in r&&(n.credentials=r.credentials),m.body&&(n.body=m.body),m.onRequest&&(n=await m.onRequest(n)),r.onRequest&&(n=await r.onRequest(n));let p=await R(c.toString(),n,t.globals.fetch);return"onResponse"in m&&(p=await m.onResponse(p,n)),"onResponse"in e&&(p=await e.onResponse(p,n)),p}}};function bo(e,t){return()=>{let r=e();return typeof t=="function"?r.onRequest=t:r.onRequest=s=>({...s,...t}),r}}function To(e){return()=>{let t=e();return t.method==="GET"&&(t.method="SEARCH",t.body=JSON.stringify({query:t.params}),delete t.params),t}}function Co(e,t){return()=>{let r=t();return e&&(r.headers||(r.headers={}),r.headers.Authorization=`Bearer ${e}`),r}}0&&(module.exports={acceptUserInvite,aggregate,auth,authenticateShare,authentication,clearCache,createCollection,createComment,createDashboard,createDashboards,createDirectus,createField,createFlow,createFlows,createFolder,createFolders,createItem,createItems,createNotification,createNotifications,createOperation,createOperations,createPanel,createPanels,createPermission,createPermissions,createPreset,createPresets,createRelation,createRole,createRoles,createShare,createShares,createTranslation,createTranslations,createUser,createUsers,createWebhook,createWebhooks,deleteCollection,deleteComment,deleteDashboard,deleteDashboards,deleteField,deleteFile,deleteFiles,deleteFlow,deleteFlows,deleteFolder,deleteFolders,deleteItem,deleteItems,deleteNotification,deleteNotifications,deleteOperation,deleteOperations,deletePanel,deletePanels,deletePermission,deletePermissions,deletePreset,deletePresets,deleteRelation,deleteRole,deleteRoles,deleteShare,deleteShares,deleteTranslation,deleteTranslations,deleteUser,deleteUsers,deleteWebhook,deleteWebhooks,disableTwoFactor,enableTwoFactor,generateHash,generateTwoFactorSecret,generateUid,graphql,importFile,inviteShare,inviteUser,login,logout,memoryStorage,messageCallback,passwordRequest,passwordReset,pong,queryToParams,readActivities,readActivity,readCollection,readCollections,readDashboard,readDashboards,readExtensions,readField,readFields,readFieldsByCollection,readFile,readFiles,readFlow,readFlows,readFolder,readFolders,readGraphqlSdl,readItem,readItems,readMe,readNotification,readNotifications,readOpenApiSpec,readOperation,readOperations,readPanel,readPanels,readPermission,readPermissions,readPreset,readPresets,readProviders,readRelation,readRelationByCollection,readRelations,readRevision,readRevisions,readRole,readRoles,readSettings,readShare,readShareInfo,readShares,readSingleton,readTranslation,readTranslations,readUser,readUsers,readWebhook,readWebhooks,realtime,refresh,rest,schemaApply,schemaDiff,schemaSnapshot,serverHealth,serverInfo,serverPing,sleep,staticToken,throwIfCoreCollection,throwIfEmpty,triggerFlow,triggerOperation,updateCollection,updateComment,updateDashboard,updateDashboards,updateField,updateFile,updateFiles,updateFlow,updateFlows,updateFolder,updateFolders,updateItem,updateItems,updateMe,updateNotification,updateNotifications,updateOperation,updateOperations,updatePanel,updatePanels,updatePermission,updatePermissions,updatePreset,updatePresets,updateRelation,updateRole,updateRoles,updateSettings,updateShare,updateShares,updateSingleton,updateTranslation,updateTranslations,updateUser,updateUsers,updateWebhook,updateWebhooks,uploadFiles,utilitySort,utilsExport,utilsImport,verifyHash,withOptions,withSearch,withToken});
//# sourceMappingURL=index.cjs.map